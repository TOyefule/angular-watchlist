// Generated by CoffeeScript 1.6.1
(function(){var e;e=angular.module("watchlist",[]);e.controller("Watchlist",["$scope",function(e){var t;e.timeout={};e.stocks=[{name:"CERN"},{name:"CPB"},{name:"EXC"},{name:"VZ"},{name:"KR"},{name:"BIIB"},{name:"SVU"}];if(window.localStorage&&window.localStorage!==null){t=!0;localStorage.stocks&&(e.stocks=angular.fromJson(localStorage.stocks))}e.selected_stock=e.stocks[0];e.next_stock=function(){var t,n;if(e.selected_stock){t=e.stocks.indexOf(e.selected_stock);n=(t+1)%e.stocks.length;return e.showStock(n)}};e.save_watchlist=function(){if(t)return localStorage.stocks=angular.toJson(e.stocks)};e.formatStockAdd=function(){return e.stock_to_add=e.stock_to_add.replace(" ","").toUpperCase()};e.addStock=function(){var t,n;t=_.findWhere(e.stocks,{name:e.stock_to_add});if(!t){n=e.stocks.push({name:e.stock_to_add});e.selected_stock=e.stocks[n-1]}e.stock_to_add="";return e.save_watchlist()};e.removeStock=function(t){var n;n=e.stocks[t];if(n===e.selected_stock){e.stocks.splice(t,1);e.selected_stock=e.stocks[0]}else e.stocks.splice(t,1);return e.save_watchlist()};return e.showStock=function(t,n){e.selected_stock=e.stocks[t];if(!!n)return n.preventDefault()}}])}).call(this);